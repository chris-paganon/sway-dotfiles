# Default config for sway
#
# Copy this to ~/.config/sway/config and edit it to your liking.
#
# Read `man 5 sway` for a complete reference.

include /etc/sway/config.d/*

# Catpuccin theme colors
set $rosewater #f5e0dc
set $flamingo #f2cdcd
set $pink #f5c2e7
set $mauve #cba6f7
set $red #f38ba8
set $maroon #eba0ac
set $peach #fab387
set $yellow #f9e2af
set $green #a6e3a1
set $teal #94e2d5
set $sky #89dceb
set $sapphire #74c7ec
set $blue #89b4fa
set $lavender #b4befe
set $text #cdd6f4
set $subtext1 #bac2de
set $subtext0 #a6adc8
set $overlay2 #9399b2
set $overlay1 #7f849c
set $overlay0 #6c7086
set $surface2 #585b70
set $surface1 #45475a
set $surface0 #313244
set $base #1e1e2e
set $mantle #181825
set $crust #11111b

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
# font pango:SauceCodePro Nerd Font 12
# for_window [class=".*"] title_format " <span size='smaller'>%title</span>"

# target                 title     bg    text   indicator  border
client.focused           $lavender $base $text  $rosewater $lavender
client.focused_inactive  $overlay0 $base $text  $rosewater $overlay0
client.unfocused         $overlay0 $base $text  $rosewater $overlay0
client.urgent            $peach    $base $peach $overlay0  $peach
client.placeholder       $overlay0 $base $text  $overlay0  $overlay0
client.background        $base

### Variables
#
# Logo key. Use Mod1 for Alt.
set $mod Mod4
# Your preferred terminal emulator
set $term ghostty
# Your preferred application launcher
set $menu fuzzel

set $move_to_next ~/.config/sway/move-to-next.sh
set $start_on_next ~/.config/sway/start-on-next.sh
set $open_next ~/.config/sway/open-next.sh
set $swap_windows exec --no-startup-id ~/scripts/go/sway-swap-windows/sway-swap-windows

### Output configuration
#
# Default wallpaper (more resolutions are available in /usr/share/backgrounds/sway/)
output * bg ~/.wallpaper fill

output eDP-1 res 2560x1600 scale 1.33 pos 0 0
# output eDP-1 res 2560x1600 scale 1

output DP-1 res 1920x1080 scale 1 pos 1920 0 
# output eDP-1 res 2560x1600 scale 1.33 pos 1920 0
# output eDP-1 res 2560x1600 scale 1 pos 1920 0

output * allow_tearing yes
output * max_render_time off

### Autostart
exec /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec slimbookbattery --minimize
exec nm-applet

### Idle configuration
#
# Example configuration:
#
exec swayidle -w \
    timeout 600 'swaylock -f' \
    timeout 900 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \
    timeout 1200 'systemctl hibernate' \
    before-sleep 'swaylock -f'
#
# This will lock your screen after 300 seconds of inactivity, then turn off
# your displays after another 300 seconds, and turn your screens back on when
# resumed. It will also lock your screen before your computer goes to sleep.

### Input configuration
#
# Example configuration:
#
input type:touchpad {
    dwt enabled
    tap enabled
    natural_scroll enabled
    middle_emulation enabled
}

input type:keyboard {
    xkb_numlock enabled
}
#
#   input type:keyboard {
#       xkb_layout "eu"
#   }
#
# You can also configure each device individually.
# Read `man 5 sway-input` for more information about this section.

### Key bindings
#
# Basics:
#
# Kill focused window
bindsym $mod+q kill

# Start your launcher
bindsym Mod1+Space exec $menu
bindsym Mod1+Control+space exec $open_next; exec exec $menu

# Drag floating windows by holding down $mod and left mouse button.
# Resize them with right mouse button + $mod.
# Despite the name, also works for non-floating windows.
# Change normal to inverse to use left mouse button for resizing and right
# mouse button for dragging.
floating_modifier $mod normal

# Don't steal the focus
focus_on_window_activation focus

# Reload the configuration file
bindsym $mod+Shift+c reload

# Exit sway (logs you out of your Wayland session)
bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

# Shutdown, logout, suspend, etc fuzzel script
bindsym $mod+Mod1+e exec ~/.config/fuzzel/fuzzel-logout.sh
bindsym $mod+Mod1+Space exec ~/.config/fuzzel/fuzzel-tmuxp.sh

bindsym Mod1+x exec grimshot copy area
bindsym Mod1+Shift+x exec grimshot savecopy area "$HOME/Pictures/screenshots/$(date +%Y-%m-%dT%H:%M:%S%Z).jpg"
bindsym $mod+Mod1+x exec ~/.config/sway/screenshot-upload.sh

bindsym Mod1+Control+x exec grim -g "$(slurp)" - | swappy -f - -o "$HOME/Pictures/screenshots/$(date +%Y-%m-%dT%H:%M:%S%Z).jpg"
bindsym $mod+Control+x exec ~/.config/sway/screenshot-upload.sh --edit

# Start specific apps
bindsym Mod1+f exec vivaldi
bindsym Mod1+Control+f exec $start_on_next vivaldi

bindsym Mod1+t exec $term
bindsym Mod1+a exec ghostty -e ~/.config/tmux/open-main-tmux.sh
bindsym $mod+a [con_mark="terminal"] scratchpad show
for_window [app_id="com.mitchellh.ghostty"] mark "terminal"
for_window [app_id="com.mitchellh.ghostty"] move scratchpad, scratchpad show;
for_window [app_id="com.mitchellh.ghostty"] resize set 1600 900

bindsym Mod1+s exec spotify-launcher
bindsym $mod+s [con_mark="music"] scratchpad show
for_window [app_id="spotify"] mark "music"
for_window [app_id="spotify"] move scratchpad; [con_mark="music"] scratchpad show;
for_window [app_id="spotify"] resize set 1600 900
for_window [app_id="spotify"] move left 40
for_window [app_id="spotify"] move up 40

#
# Moving around:
#
# Or use $mod+[up|down|left|right]
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Move the focused window
bindsym $mod+Mod1+Left move left
bindsym $mod+Mod1+Down move down
bindsym $mod+Mod1+Up move up
bindsym $mod+Mod1+Right move right

# Move container to left & right output
bindsym --whole-window $mod+button8 move container to output left; workspace next_on_output; focus output left
bindsym --whole-window $mod+button9 move container to output right; workspace next_on_output; focus output right

#
# Workspaces:
#
# Switch to workspace
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10
# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10
# Note: workspaces can have any name you want, not just numbers.
# We just use 1-10 as the default.
#
# Layout stuff:
#
# You can "split" the current object of your focus with
# $mod+b or $mod+v, for horizontal and vertical splits
# respectively.
bindsym $mod+b splith
bindsym $mod+v splitv

# Switch the current container between different layout styles
# bindsym $mod+s layout stacking
# bindsym $mod+w layout tabbed
# bindsym $mod+e layout toggle split

# Make the current focus fullscreen
bindsym $mod+Shift+f fullscreen

# To scratchpad
bindsym --whole-window $mod+button5 move scratchpad
# bindsym $mod+space move scratchpad
# Toggle the current focus between tiling and floating mode
bindsym --whole-window $mod+button2 floating toggle
bindsym $mod+Shift+space floating toggle

# Swap focus between the tiling area and the floating area
# bindsym $mod+space focus mode_toggle

# Move focus to the parent container
# bindsym $mod+a focus parent

bindsym $mod+Tab workspace next_on_output
bindsym $mod+Shift+a scratchpad show

# Move container to left & right output on new workspace
bindsym --whole-window $mod+Control+button8 move container to output left; workspace next_on_output; focus output left; exec --no-startup-id $move_to_next
bindsym $mod+Control+Left move container to output left; workspace next_on_output; focus output left; exec --no-startup-id $move_to_next
bindsym --whole-window $mod+Control+button9 move container to output right; workspace next_on_output; focus output right; exec --no-startup-id $move_to_next
bindsym $mod+Control+Right move container to output right; workspace next_on_output; focus output right; exec --no-startup-id $move_to_next

# To workspace on same screen
# move window to next available workspace on same screen
bindsym --whole-window $mod+button4 exec --no-startup-id $move_to_next
bindsym $mod+Control+Up exec --no-startup-id $move_to_next
# switch to next available workspace on same screen
bindsym --whole-window $mod+Shift+button4 move container to workspace next_on_output; workspace next_on_output;
bindsym $mod+Control+Down move container to workspace next_on_output; workspace next_on_output;

# Swap containers
bindsym --whole-window $mod+Shift+button8 $swap_windows left;
bindsym $mod+Shift+Left $swap_windows left;
bindsym --whole-window $mod+Shift+button9 $swap_windows right;
bindsym $mod+Shift+Right $swap_windows right;

#
# Scratchpad:
#
# Sway has a "scratchpad", which is a bag of holding for windows.
# You can send windows there and get them back later.

# Move the currently focused window to the scratchpad
bindsym $mod+Shift+minus move scratchpad

# Show the next scratchpad window or hide the focused scratchpad window.
# If there are multiple scratchpad windows, this command cycles through them.
bindsym $mod+minus scratchpad show

#
# Resizing containers:
#
mode "resize" {
# left will shrink the containers width
# right will grow the containers width
# up will shrink the containers height
# down will grow the containers height
bindsym Left resize shrink width 10px
bindsym Down resize grow height 10px
bindsym Up resize shrink height 10px
bindsym Right resize grow width 10px

# Return to default mode
bindsym Return mode "default"
bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"
#
# Utilities:
#
# Special keys to adjust volume via PulseAudio
bindsym --locked XF86AudioMute exec pactl set-sink-mute \@DEFAULT_SINK@ toggle
bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume \@DEFAULT_SINK@ -5%
bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume \@DEFAULT_SINK@ +5%
bindsym --locked XF86AudioMicMute exec pactl set-source-mute \@DEFAULT_SOURCE@ toggle
# Special keys to adjust brightness via brightnessctl
bindsym --locked XF86MonBrightnessDown exec brightnessctl set 5%-
bindsym --locked XF86MonBrightnessUp exec brightnessctl set 5%+
# Special key to take a screenshot with grim
bindsym Print exec grim

#
# Status Bar:
#
# Read `man 5 sway-bar` for more information about this section.
bar swaybar_command waybar
# bar {
    # position bottom
    # When the status_command prints a new line to stdout, swaybar updates.
    # The default just shows the current date and time.
    # status_command while date +'%Y-%m-%d %X'; do sleep 1; done

    # colors {
    #     statusline #ffffff
    #     background #323232
    #     inactive_workspace #32323200 #32323200 #5c5c5c
    # }
# }

gaps inner 10
default_border pixel

#
# SwayFX stuff:
#
# SwayFX has window blurring, which gives a blurry transparency to window backgrounds.
blur enabled
blur_xray disabled # Window blurring can either be truly transparent, with other apps visible behind the window, or blur according to the wallpaper. blur_xray enables wallpaper blurring. 
blur_passes 2
blur_radius 3
# blur_noise <float value 0 - 1>
# blur_brightness <float value 0 - 2>
# blur_contrast <float value 0 - 2>
# blur_saturation <float value 0 - 2>

# Window corners can be rounded in SwayFX
# corner_radius can be any number of pixels
corner_radius 5
smart_corner_radius enable

# SwayFX also features window drop shadows, which, of course, can be enabled at any time
shadows disable
shadows_on_csd enable

# You can also offset the shadow's position, make unfocused windows have different shadows, give shadows a nondefault color, and blur shadows
# shadow_inactive_color #0000007F
# shadow_offset <x offset> <y offset>
# shadow_blur_radius <integer value 0 - 99>
# shadow_color <hex color with alpha>

# Dimming
default_dim_inactive 0.08
# for_window [CRITERIA_HERE] dim_inactive <float value 0.0 - 1.0>
# dim_inactive_colors.unfocused <hex color>
# dim_inactive_colors.urgent <hex color> 
